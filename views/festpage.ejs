<%- include("partials/header") %>

<button onclick="window.location.href='/cordhome'">Back</button>

<style>
    .container {
        width:45%;
        padding: 50px 50px;
    }
</style>

<button onclick="window.location.href='/cordhome/<%=fest%>/addcompetitions'">Add</button>

<% let months = new Map();
    months.set(1,"January");
    months.set(2,"February");
    months.set(3,"March");
    months.set(4,"April");
    months.set(5,"May");
    months.set(6,"June");
    months.set(7,"July");
    months.set(8,"August");
    months.set(9,"September");
    months.set(10,"October");
    months.set(11,"November");
    months.set(12,"December"); %>

<% let days = new Map();
    days.set(1,"Monday");
    days.set(2,"Tuesday");
    days.set(3,"Wednesday");
    days.set(4,"Thursday");
    days.set(5,"Friday");
    days.set(6,"Saturday");
    days.set(7,"Sunday"); %>


<% var i%>
<% for(i=0;i<fests.competitions.length; i++){ %> 
    <div>
        Name : <%=fests.competitions[i].name%>
    </div>
    <div>
        Uploaded Image : <%=fests.competitions[i].imageUpload%>
    </div>
    <div>
        Description : <%=fests.competitions[i].descr%>
    </div>
    <div>

        <% let suffix;
        switch((fests.competitions[i].date.getDate())%10) {
            case 1: suffix = "st";
                    break;
            case 2: suffix = "nd";
                    break;
            case 3: suffix = "rd";
                    break;
            default: suffix = "th";
        } %>
        Date : <%=fests.competitions[i].date.getDate()%><%=suffix%><%=months.get(fests.competitions[i].date.getMonth()+1)%> 
        <%=fests.competitions[i].date.getFullYear()%>, 
        <%=days.get(fests.competitions[i].date.getDay())%>

    </div>
    <div>
        Venue : <%=fests.competitions[i].venue%>
    </div>
    <div>
        Voting : <%=fests.competitions[i].voting%>
    </div>
    <div> 
        Start Time : <%=fests.competitions[i].starttime.getHours()%>:<%=fests.competitions[i].starttime.getMinutes()%>
        End Time : <%=fests.competitions[i].endtime.getHours()%>:<%=fests.competitions[i].endtime.getMinutes()%>
    </div>
    <div>
        <%if(fests.competitions[i].currentcand.length == 0){%>
           <button><a href="/cordhome/<%=fests.festname%>/<%=fests.competitions[i]._id%>/start">View</a></button>
        <%}else{%>
           <button><a href="/cordhome/<%=fests.festname%>/<%=fests.competitions[i]._id%>">View</a></button>
        <%}%>
    </div>
    <hr>
<% } %>
</div>
</div>

<%- include("partials/footer") %>





       